<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SESA - Sound Event Classifier</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-md text-center">
        <h1 class="text-2xl font-bold mb-6 text-gray-800">ðŸ”Š SESA â€“ Sound Classification</h1>
        <h2 class="textContent">
            The Sound Events for Surveillance Applications (SESA) dataset files consist of predicting the nature of freesound. The dataset was divided between train (480 files) and test (105 files) folders. All audio files are WAV, Mono-Channel, 16 kHz, and 8-bit with up to 33 seconds. # Classes: 0 - Casual (not a threat) 1 - Gunshot 2 - Explosion 3 - Siren (also contains alarms)
        </h2>
        <h3 class="textContent"> ---------------- </h3>
        <input type="file" id="SoundInput" accept="audio/wav" class="mb-4 block w-full text-sm text-gray-700 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none">
        <button onclick="predict_audio()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Classify</button>
        <p id="PredictionResult" class="mt-6 text-lg font-semibold text-gray-700"></p>
    </div>

    <script type="text/javascript">
        async function predict_audio() {
            const input = document.getElementById('SoundInput');
            if (!input.files[0]) {
                alert("Please select a WAV file!");
                return;
            }

            const file = input.files[0];
            const formData = new FormData();
            formData.append('file', file);

            try {
                const response = await fetch('http://127.0.0.1:8000/predict/', {
                    method: 'POST',
                    body: formData
                });
                const result = await response.json();
                document.getElementById('PredictionResult').textContent = `Prediction: ${result.prediction}`;
            } catch (error) {
                console.error('Error:', error);
                alert('Prediction failed. Make sure the server is running and CORS is enabled.');
            }
        }
    </script>
</body>
</html>
